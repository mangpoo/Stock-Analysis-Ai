{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimseungwoon\\\\Desktop\\\\REACT\\\\Stock-Analysis-Ai\\\\stock-analysis-ai-react\\\\src\\\\components\\\\ChartSection.jsx\",\n  _s = $RefreshSig$();\n// ChartSection.jsx\nimport React, { useState } from 'react'; // useState 추가\nimport './ChartSection.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDate = date => {\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const day = date.getDate().toString().padStart(2, '0');\n  return `${year}${month}${day}`;\n};\nexport default function ChartSection({\n  ticker,\n  stockName,\n  stockPrice,\n  stockChange,\n  logoUrl,\n  chartServerIp\n}) {\n  _s();\n  // 뉴스 요약 관련 상태 추가\n  const [summaries, setSummaries] = useState([]);\n  const [isLoadingSummaries, setIsLoadingSummaries] = useState(false);\n  const [summaryError, setSummaryError] = useState(null);\n\n  // 서버 주소 (백엔드 API 서버 주소) - Flask 서버가 실행 중인 주소로 변경해야 합니다.\n  // 제공된 정보에 따르면 \"minjun0410.iptime.org:5000\"이 API 서버의 주소 및 포트입니다.\n  const apiServerBaseUrl = 'http://minjun0410.iptime.org:5000';\n  const handleChartAnalysis = () => {\n    console.log(`차트 분석 버튼 클릭됨: ${ticker}`);\n  };\n\n  // 뉴스 요약 버튼 클릭 핸들러\n  const handleNewsSummary = async () => {\n    if (!ticker) {\n      setSummaryError(\"종목 코드가 없습니다.\");\n      return;\n    }\n    console.log(`뉴스 요약 버튼 클릭됨: ${ticker}`);\n    setIsLoadingSummaries(true);\n    setSummaryError(null);\n    setSummaries([]); // 이전 요약 내용 초기화\n\n    try {\n      // 1. /crawler/<ticker> 호출하여 뉴스 ID 목록 가져오기\n      const crawlerResponse = await fetch(`${apiServerBaseUrl}/crawler/${ticker}`);\n      if (!crawlerResponse.ok) {\n        throw new Error(`뉴스 목록을 가져오는데 실패했습니다: ${crawlerResponse.statusText}`);\n      }\n      const newsIdUrlsObject = await crawlerResponse.json(); // { \"0\": \"url1\", \"1\": \"url2\", ... } 형태\n      const newsIdUrls = Object.values(newsIdUrlsObject); // URL 문자열 배열로 변환\n\n      if (newsIdUrls.length === 0) {\n        console.log(\"요약할 뉴스가 없습니다.\");\n        setIsLoadingSummaries(false);\n        return;\n      }\n\n      // 2. 각 URL에서 ID 추출 및 /getSummary/<id> 호출\n      const summaryPromises = newsIdUrls.map(fullUrl => {\n        // fullUrl 예시: \"minjun0410.iptime.org:5000/getSummary/000270_202505091133\"\n        // 여기서 ID (예: \"000270_202505091133\")를 추출해야 합니다.\n        // URL에 프로토콜(http://)이 포함되어 있지 않으므로 직접 붙여주거나,\n        // 백엔드 응답에 포함되도록 수정하는 것이 좋습니다.\n        // 여기서는 백엔드 응답이 서버 주소 포함된 경로만 반환한다고 가정하고,\n        // `apiServerBaseUrl`의 프로토콜 부분만 사용합니다.\n\n        const urlParts = fullUrl.split('/');\n        const newsId = urlParts[urlParts.length - 1];\n\n        // ID가 유효한지 간단히 확인 (필요에 따라 더 정교한 검증 추가)\n        if (!newsId || newsId.trim() === \"\") {\n          console.warn(\"잘못된 형식의 뉴스 ID URL:\", fullUrl);\n          return Promise.resolve(null); // 잘못된 ID는 건너뛰기\n        }\n        return fetch(`${apiServerBaseUrl}/getSummary/${newsId}`).then(res => {\n          if (!res.ok) {\n            console.error(`ID [${newsId}]에 대한 요약을 가져오는데 실패했습니다: ${res.statusText}`);\n            return null; // 개별 실패 처리\n          }\n          return res.json();\n        }).catch(err => {\n          console.error(`ID [${newsId}] 요청 중 오류:`, err);\n          return null; // 개별 실패 처리\n        });\n      });\n      const fetchedSummaries = (await Promise.all(summaryPromises)).filter(summary => summary !== null); // null이 아닌 결과만 필터링\n      setSummaries(fetchedSummaries);\n      console.log(\"가져온 뉴스 요약:\", fetchedSummaries);\n    } catch (error) {\n      console.error(\"뉴스 요약 처리 중 오류:\", error);\n      setSummaryError(error.message);\n    } finally {\n      setIsLoadingSummaries(false);\n    }\n  };\n  const handleOtherAction = () => {\n    console.log(`다른 기능 버튼 클릭됨: ${ticker}`);\n  };\n  const today = new Date();\n  const startDate = \"20000101\";\n  const endDate = \"20250423\";\n  const chartIframeSrc = `http://${chartServerIp}/chart/kr/${ticker}/${startDate}/${endDate}`;\n  if (!ticker) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-section\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC885\\uBAA9 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC62C \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uBAA9\\uB85D\\uC5D0\\uC11C \\uC885\\uBAA9\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n  const changeClassName = stockChange >= 0 ? \"positive\" : \"negative\";\n  const changeText = `${stockChange >= 0 ? '+' : ''}${typeof stockChange === 'number' ? stockChange.toFixed(1) : 'N/A'}%`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-header-info\",\n      children: [logoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logoUrl,\n        alt: `${stockName || '종목'} 로고`,\n        className: \"image-placeholder\",\n        onError: e => {\n          e.target.style.display = 'none';\n          const parent = e.target.parentNode;\n          if (parent && parent.classList.contains('image-placeholder')) {\n            parent.textContent = '로고';\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-placeholder\",\n        children: \"\\uB85C\\uACE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stock-info-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stock-name\",\n          children: stockName || ticker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stock-price-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stock-price\",\n            children: stockPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), typeof stockChange === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `stock-change ${changeClassName}`,\n            style: {\n              marginLeft: '8px'\n            },\n            children: changeText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-layout-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-iframe-container\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          className: \"chart-iframe\",\n          src: chartIframeSrc,\n          title: `${stockName || ticker} Stock Chart`\n        }, ticker, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"AI \\uBD84\\uC11D (\", stockName || ticker, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleChartAnalysis,\n          children: \"\\uCC28\\uD2B8 \\uBD84\\uC11D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNewsSummary,\n          disabled: isLoadingSummaries,\n          children: isLoadingSummaries ? '요약 중...' : '뉴스 요약'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleOtherAction,\n          children: \"\\uB2E4\\uB978 \\uAE30\\uB2A5 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), summaryError && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: [\"\\uC624\\uB958: \", summaryError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 24\n    }, this), summaries.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-summaries-section\",\n      style: {\n        marginTop: '20px',\n        padding: '10px',\n        border: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uB274\\uC2A4 \\uC694\\uC57D \\uACB0\\uACFC:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), summaries.map((summary, index) => summary ?\n      /*#__PURE__*/\n      // summary 객체가 null이 아닌지 확인\n      _jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px',\n          paddingBottom: '10px',\n          borderBottom: '1px solid #ddd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: summary.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uB0A0\\uC9DC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 20\n          }, this), \" \", summary.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uC8FC\\uC694 \\uC774\\uC288:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 20\n          }, this), \" \", summary.issue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uC601\\uD5A5:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 20\n          }, this), \" \", summary.impact]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: summary.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"\\uC6D0\\uBCF8 \\uAE30\\uC0AC \\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this), summary.related_tickers && summary.related_tickers.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uAD00\\uB828 \\uD2F0\\uCEE4:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 22\n          }, this), \" \", summary.related_tickers.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 19\n        }, this)]\n      }, summary.link || index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC694\\uC57D \\uC815\\uBCF4\\uB97C \\uAC00\\uC838\\uC624\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(ChartSection, \"IznVeKW6yR9wRLBEQg7ykxIj4FM=\");\n_c = ChartSection;\nvar _c;\n$RefreshReg$(_c, \"ChartSection\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","formatDate","date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","ChartSection","ticker","stockName","stockPrice","stockChange","logoUrl","chartServerIp","_s","summaries","setSummaries","isLoadingSummaries","setIsLoadingSummaries","summaryError","setSummaryError","apiServerBaseUrl","handleChartAnalysis","console","log","handleNewsSummary","crawlerResponse","fetch","ok","Error","statusText","newsIdUrlsObject","json","newsIdUrls","Object","values","length","summaryPromises","map","fullUrl","urlParts","split","newsId","trim","warn","Promise","resolve","then","res","error","catch","err","fetchedSummaries","all","filter","summary","message","handleOtherAction","today","Date","startDate","endDate","chartIframeSrc","className","children","fileName","_jsxFileName","lineNumber","columnNumber","changeClassName","changeText","toFixed","src","alt","onError","e","target","style","display","parent","parentNode","classList","contains","textContent","marginLeft","title","onClick","disabled","color","marginTop","padding","border","index","marginBottom","paddingBottom","borderBottom","issue","impact","href","link","rel","related_tickers","join","_c","$RefreshReg$"],"sources":["C:/Users/kimseungwoon/Desktop/REACT/Stock-Analysis-Ai/stock-analysis-ai-react/src/components/ChartSection.jsx"],"sourcesContent":["// ChartSection.jsx\r\nimport React, { useState } from 'react'; // useState 추가\r\nimport './ChartSection.css';\r\n\r\nconst formatDate = (date) => {\r\n  const year = date.getFullYear();\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n  return `${year}${month}${day}`;\r\n};\r\n\r\nexport default function ChartSection({ ticker, stockName, stockPrice, stockChange, logoUrl, chartServerIp }) {\r\n  // 뉴스 요약 관련 상태 추가\r\n  const [summaries, setSummaries] = useState([]);\r\n  const [isLoadingSummaries, setIsLoadingSummaries] = useState(false);\r\n  const [summaryError, setSummaryError] = useState(null);\r\n\r\n  // 서버 주소 (백엔드 API 서버 주소) - Flask 서버가 실행 중인 주소로 변경해야 합니다.\r\n  // 제공된 정보에 따르면 \"minjun0410.iptime.org:5000\"이 API 서버의 주소 및 포트입니다.\r\n  const apiServerBaseUrl = 'http://minjun0410.iptime.org:5000';\r\n\r\n  const handleChartAnalysis = () => {\r\n    console.log(`차트 분석 버튼 클릭됨: ${ticker}`);\r\n  };\r\n\r\n  // 뉴스 요약 버튼 클릭 핸들러\r\n  const handleNewsSummary = async () => {\r\n    if (!ticker) {\r\n      setSummaryError(\"종목 코드가 없습니다.\");\r\n      return;\r\n    }\r\n\r\n    console.log(`뉴스 요약 버튼 클릭됨: ${ticker}`);\r\n    setIsLoadingSummaries(true);\r\n    setSummaryError(null);\r\n    setSummaries([]); // 이전 요약 내용 초기화\r\n\r\n    try {\r\n      // 1. /crawler/<ticker> 호출하여 뉴스 ID 목록 가져오기\r\n      const crawlerResponse = await fetch(`${apiServerBaseUrl}/crawler/${ticker}`);\r\n      if (!crawlerResponse.ok) {\r\n        throw new Error(`뉴스 목록을 가져오는데 실패했습니다: ${crawlerResponse.statusText}`);\r\n      }\r\n      const newsIdUrlsObject = await crawlerResponse.json(); // { \"0\": \"url1\", \"1\": \"url2\", ... } 형태\r\n      const newsIdUrls = Object.values(newsIdUrlsObject); // URL 문자열 배열로 변환\r\n\r\n      if (newsIdUrls.length === 0) {\r\n        console.log(\"요약할 뉴스가 없습니다.\");\r\n        setIsLoadingSummaries(false);\r\n        return;\r\n      }\r\n\r\n      // 2. 각 URL에서 ID 추출 및 /getSummary/<id> 호출\r\n      const summaryPromises = newsIdUrls.map(fullUrl => {\r\n        // fullUrl 예시: \"minjun0410.iptime.org:5000/getSummary/000270_202505091133\"\r\n        // 여기서 ID (예: \"000270_202505091133\")를 추출해야 합니다.\r\n        // URL에 프로토콜(http://)이 포함되어 있지 않으므로 직접 붙여주거나,\r\n        // 백엔드 응답에 포함되도록 수정하는 것이 좋습니다.\r\n        // 여기서는 백엔드 응답이 서버 주소 포함된 경로만 반환한다고 가정하고,\r\n        // `apiServerBaseUrl`의 프로토콜 부분만 사용합니다.\r\n        \r\n        const urlParts = fullUrl.split('/');\r\n        const newsId = urlParts[urlParts.length - 1];\r\n\r\n        // ID가 유효한지 간단히 확인 (필요에 따라 더 정교한 검증 추가)\r\n        if (!newsId || newsId.trim() === \"\") {\r\n            console.warn(\"잘못된 형식의 뉴스 ID URL:\", fullUrl);\r\n            return Promise.resolve(null); // 잘못된 ID는 건너뛰기\r\n        }\r\n        \r\n        return fetch(`${apiServerBaseUrl}/getSummary/${newsId}`)\r\n          .then(res => {\r\n            if (!res.ok) {\r\n              console.error(`ID [${newsId}]에 대한 요약을 가져오는데 실패했습니다: ${res.statusText}`);\r\n              return null; // 개별 실패 처리\r\n            }\r\n            return res.json();\r\n          })\r\n          .catch(err => {\r\n            console.error(`ID [${newsId}] 요청 중 오류:`, err);\r\n            return null; // 개별 실패 처리\r\n          });\r\n      });\r\n\r\n      const fetchedSummaries = (await Promise.all(summaryPromises)).filter(summary => summary !== null); // null이 아닌 결과만 필터링\r\n      setSummaries(fetchedSummaries);\r\n      console.log(\"가져온 뉴스 요약:\", fetchedSummaries);\r\n\r\n    } catch (error) {\r\n      console.error(\"뉴스 요약 처리 중 오류:\", error);\r\n      setSummaryError(error.message);\r\n    } finally {\r\n      setIsLoadingSummaries(false);\r\n    }\r\n  };\r\n\r\n  const handleOtherAction = () => {\r\n    console.log(`다른 기능 버튼 클릭됨: ${ticker}`);\r\n  };\r\n\r\n  const today = new Date();\r\n  const startDate = \"20000101\";\r\n  const endDate = \"20250423\";\r\n  const chartIframeSrc = `http://${chartServerIp}/chart/kr/${ticker}/${startDate}/${endDate}`;\r\n\r\n  if (!ticker) {\r\n    return (\r\n      <div className=\"chart-section\">\r\n        <p>종목 정보를 불러올 수 없습니다. 목록에서 종목을 선택해주세요.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const changeClassName = stockChange >= 0 ? \"positive\" : \"negative\";\r\n  const changeText = `${stockChange >= 0 ? '+' : ''}${typeof stockChange === 'number' ? stockChange.toFixed(1) : 'N/A'}%`;\r\n\r\n  return (\r\n    <div className=\"chart-section\">\r\n      <div className=\"chart-header-info\">\r\n        {logoUrl ? (\r\n          <img\r\n            src={logoUrl}\r\n            alt={`${stockName || '종목'} 로고`}\r\n            className=\"image-placeholder\"\r\n            onError={(e) => {\r\n              e.target.style.display = 'none';\r\n              const parent = e.target.parentNode;\r\n              if (parent && parent.classList.contains('image-placeholder')) {\r\n                parent.textContent = '로고';\r\n              }\r\n            }}\r\n          />\r\n        ) : (\r\n          <div className=\"image-placeholder\">로고</div>\r\n        )}\r\n        <div className=\"stock-info-text\">\r\n          <span className=\"stock-name\">{stockName || ticker}</span>\r\n          <div className=\"stock-price-details\">\r\n            <span className=\"stock-price\">{stockPrice}</span>\r\n            {typeof stockChange === 'number' && (\r\n              <span className={`stock-change ${changeClassName}`} style={{ marginLeft: '8px' }}>\r\n                {changeText}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-layout-container\">\r\n        <div className=\"chart-iframe-container\">\r\n          <iframe\r\n            key={ticker}\r\n            className=\"chart-iframe\"\r\n            src={chartIframeSrc}\r\n            title={`${stockName || ticker} Stock Chart`}\r\n          ></iframe>\r\n        </div>\r\n        <div className=\"chart-controls\">\r\n          <h3>AI 분석 ({stockName || ticker})</h3>\r\n          <button onClick={handleChartAnalysis}>차트 분석</button>\r\n          {/* \"뉴스 요약\" 버튼에 새로운 핸들러 연결 */}\r\n          <button onClick={handleNewsSummary} disabled={isLoadingSummaries}>\r\n            {isLoadingSummaries ? '요약 중...' : '뉴스 요약'}\r\n          </button>\r\n          <button onClick={handleOtherAction}>다른 기능 2</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 뉴스 요약 결과 표시 부분 (간단한 예시) */}\r\n      {summaryError && <p style={{ color: 'red' }}>오류: {summaryError}</p>}\r\n      {summaries.length > 0 && (\r\n        <div className=\"news-summaries-section\" style={{ marginTop: '20px', padding: '10px', border: '1px solid #eee' }}>\r\n          <h4>뉴스 요약 결과:</h4>\r\n          {summaries.map((summary, index) => (\r\n            summary ? ( // summary 객체가 null이 아닌지 확인\r\n              <div key={summary.link || index} style={{ marginBottom: '15px', paddingBottom: '10px', borderBottom: '1px solid #ddd' }}>\r\n                <h5>{summary.title}</h5>\r\n                <p><strong>날짜:</strong> {summary.date}</p>\r\n                <p><strong>주요 이슈:</strong> {summary.issue}</p>\r\n                <p><strong>영향:</strong> {summary.impact}</p>\r\n                <p><a href={summary.link} target=\"_blank\" rel=\"noopener noreferrer\">원본 기사 보기</a></p>\r\n                {summary.related_tickers && summary.related_tickers.length > 0 && (\r\n                  <p><strong>관련 티커:</strong> {summary.related_tickers.join(', ')}</p>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <p key={index}>요약 정보를 가져오지 못했습니다.</p>\r\n            )\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
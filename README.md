# 금융 뉴스 크롤러 및 요약 시스템

LLM을 활용하여 금융 뉴스 기사를 크롤링하고 요약하며 핵심 정보를 추출하는 분산 시스템입니다.

## 시스템 구조

시스템은 세 가지 주요 구성 요소로 이루어져 있습니다:

### 1. 크롤러 서버 (`server.py`)
- 크롤링할 티커,주식이름 등을 입력받음
- 관련 금융 뉴스를 크롤링
- 크롤링된 기사를 요약 서버의 큐에 추가

### 2. 요약 서버 (`summarize_server.py`)
- 크롤링된 기사의 큐를 관리
- 기사를 사용 가능한 요약 클라이언트에 분배
- 여러 클라이언트 간 작업량 관리

### 3. 요약 클라이언트 (`summarize_client.py`)
- LLM 워커 객체를 로드하고 초기화
- 요약 서버로부터 기사를 받음
- 기사를 처리하고 요약
- 효율성을 위해 결과를 캐시에 저장

## 구성 요소 상세 정보

### 워커 구현
- **`workerClass.py`**: LLM 관련 함수 및 워커 클래스 포함
- **`worker_process.py`**: 다음을 수행하는 `worker_loop` 함수 구현:
  - 기사 처리
  - 요약 생성
  - 처리된 기사 캐싱

### 프롬프트 템플릿
- **`prompt.txt`**: LLM이 구조화된 요약을 생성하는 데 사용하는 프롬프트 템플릿

## 요약 형식

시스템은 JSON 형식의 구조화된 요약을 생성합니다:

```json
{
  "issue": "핵심 금융 이슈에 대한 간략한 설명",
  "impact": "가능한 경우 구체적인 수치를 포함한 잠재적 시장 영향에 대한 상세 설명", 
  "related_tickers": ["티커1", "티커2"]
}
```

### 필드:
- **issue**: 주요 금융 뉴스 포인트의 간결한 설명
- **impact**: 잠재적 시장 영향 및 금융적 의미에 대한 상세 분석
- **related_tickers**: 기사에 언급되거나 관련된 회사의 티커 심볼 목록

## 요약 예시

```json
{
  "issue": "자동차 및 산업용 반도체 수요 부진으로 인한 STM마이크로일렉트로닉스(STM)의 전망 불확실성",
  "impact": "자동차 및 산업용 반도체 수요 감소로 인해 STM마이크로일렉트로닉스의 매출이 감소하고, 이는 수익성 악화로 이어질 수 있습니다. 특히, 2분기 매출은 약 27억 1천만 달러로, 전년 동기 대비 16% 감소한 수치입니다.",
  "related_tickers": []
}
```

## 시스템 흐름

1. **크롤링 파이프라인**:
   - 사용자가 관심 있는 티커 입력(예정)
   - `server.py`가 관련 금융 뉴스 크롤링(예정)
   - 크롤링된 기사가 `summarize_server.py`로 전송(예정)

2. **요약 파이프라인**:
   - `summarize_server.py`의 큐에 기사를 저장
   - 사용 가능한 `summarize_client.py`에게 기사 전달
   - 클라이언트가 LLM 워커를 사용하여 기사 처리
   - 프롬프트 템플릿에 따라 요약 생성
   - 결과는 향후 중복을 방지하기 위해 캐시에 저장(예정)